# 常见问题

- [常见问题](#常见问题)
  - [软件无法运行/闪退/报错](#软件无法运行闪退报错)
    - [下载/安装问题](#下载安装问题)
    - [运行库问题](#运行库问题)
    - [资源加载问题](#资源加载问题)
    - [连接问题](#连接问题)
      - [1. 确认 ADB 及连接地址正确](#1-确认-adb-及连接地址正确)
      - [2. 关闭现有 ADB 进程](#2-关闭现有-adb-进程)
      - [3. 正确使用多个 ADB](#3-正确使用多个-adb)
      - [4. 更换触控方式](#4-更换触控方式)
      - [5. 改用 MaaPiCli](#5-改用-maapicli)
      - [6. 避免游戏加速器](#6-避免游戏加速器)
      - [7. 重启电脑](#7-重启电脑)
      - [8. 换模拟器](#8-换模拟器)
  - [文件下载速度慢](#文件下载速度慢)
  - [其他问题](#其他问题)

## 软件无法运行/闪退/报错

大部分的问题都能在这个章节解决。  
分成下载/安装问题、运行库问题、资源加载问题以及连接问题四类。  
其中大部分问题都属于**运行库问题**和**连接问题**。

### 下载/安装问题

完整 RMA 软件压缩包命名格式为 "RMA-Ryumi_Autottk-`平台`-`架构`-`版本`.zip"，其余均为无法单独使用的“零部件”，请仔细阅读。  
在大部分情况下，您需要使用 x64 架构的 RMA，即您需要下载 `RMA-Ryumi_Autottk-win-x86_64-vXXX.zip`，而非其他的任何东西。
> [!NOTE]
>
> 本工具暂未开发基于其他平台或架构的版本。

### 运行中闪退

当您有独立显卡且开启GPU加速时，可能会出现该问题。

> 解决方案:
>
> 使用 MFAAvalonia：在[设置]-[性能设置]里将[启用GPU加速]修改为**不使用**。

> [!NOTE]
>
> MFAAvalonia中的该设置目前可能没有生效，请等待更新。

### 运行库问题

打开软件有以下特征时，说明需要更新运行库：

1. 使用 MFAAvalonia 时，出现

    ```plaintext
    MFA 遇到了问题
    “对类型“MFAAvalonia.Views.MainWindow”的构造函数执行符合指定的绑定约束的调用时引发了异常。”，行号为“14”，行位置为“24”。
    Unable to load DLL 'MaaToolkit' or one of its dependencies: 动态链接库(DLL)初始化例程失败。 (0x8007045A)
    详细信息
    System.Windows.Markup.XamlParseException: “对类型“MFAAvalonia.Views.MainWindow”的构造函数执行符合指定的绑定约束的调用时引发了异常。”，行号为“14”，行位置为“24”。
    ---> System.DllNotFoundException: Unable to load DLL 'MaaToolkit' or one of its dependencies: 动态链接库(DLL)初始化例程失败。 (0x8007045A)
    ```

以上一般便是运行库问题，需要[更新运行库](./新手上路.md#2-安装运行库)

若更新运行库后仍然无法解决，以上启动方法均**闪退**，且在当前目录不生成任何日志文件，则是其它依赖相关问题。  
请到[项目Issues页面](https://github.com/Hirayama114514/RMA-Ryumi_Autottk/issues)反馈。
> [!NOTE]
>
> RMA使用的GUI已更换为MFAAvalonia，可能并不会出现如上报错。
>
> 开发者并非github冲浪糕手，如果有严重的问题更建议询问[deepseek](https://chat.deepseek.com/),或者加入MAAFW群咨询更专业的开发者。

### 资源加载问题

问题出现时提示**资源加载失败**，通常有两种可能：

1.  未将使用的作业放入**正确**的文件夹，或使用了**不可用**的作业，或同时存在多份冲突的作业。解决方法是删除所有作业文件夹，之后放入一份**确定可用**的作业，测试问题是否解决。

2.软件包中通用的文件遭到损毁。解决方法是删除整个文件夹，然后[重新下载](https://github.com/Hirayama114514/RMA-Ryumi_Autottk/releases)安装 RMA 。

### 连接问题

问题出现时提示**连接模拟器时发生错误**。  
造成连接失败有很多原因，请按下面的步骤一步步尝试。

#### 1. 确认 ADB 及连接地址正确

参阅 [连接设置](./连接设置.md#连接设置)

> [!TIP]
>
> 不要连到别的模拟器/设备去了！

#### 2. 关闭现有 ADB 进程

关闭 RMA 后查找 `任务管理器` - `详细信息` 中有无名称包含 `adb` 的进程，如有，结束它后重试连接。

#### 3. 正确使用多个 ADB

当 ADB 版本不同时，新启动的进程会关闭旧的进程。因此在需要同时运行多个 ADB，如 Android Studio、Alas、手机助手时，请确认它们的版本相同。

#### 4. 更换触控方式

部分模拟器（如蓝叠中国、夜神等）可能 adb 版本较低，可以尝试更换 adb 或更换触控方式。

#### 5. 避免游戏加速器

部分加速器在启动加速和停止加速之后，都需要重启 MAA、ADB 和模拟器再连接。

同时使用 UU 加速器 和 MuMu 12 可以参考[官方文档](https://mumu.163.com/help/20240321/35047_1144608.html)。

#### 6. 重启电脑

重启能解决 53% 的问题。（星罗颜

#### 8. 换模拟器

请参阅 [模拟器和设备支持](https://maa.plus/docs/zh-cn/manual/device/)。  
通常来说，建议使用 MuMu 或 雷电 。

## 文件下载速度慢

求助群友/到网上查询相关办法。

## 其他问题

当您**确定已经阅读过以上常见问题**并**尝试自行解决无果**后，您可以：

1. 到[项目Issues页面](https://github.com/MaaXYZ/M9A/issues) ，**根据模板要求**提交相关材料。
2. RMA 闲聊，问题反馈，作业分享 QQ 群：602066368，在**阅读完群公告**后提问。
